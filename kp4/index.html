<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
    <!-- site metas -->
    <title>Kelompok 5</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- bootstrap css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <!-- style css -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!-- Responsive-->
    <link rel="stylesheet" href="css/responsive.css" />
    <!-- fevicon -->
    <link rel="icon" href="images/fevicon.png" type="image/gif" />
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css" />
    <!-- Tweaks for older IEs-->
    <link
      rel="stylesheet"
      href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"
    />
    <!-- owl stylesheets -->
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesoeet" href="css/owl.theme.default.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
      media="screen"
    />
    <style>
      img {
        height: 600px;
      }
      table {
  border-collapse: collapse;
  width: 100%;
  max-width: 90%;
  align-items: center;
   margin-left: auto;
  margin-right: auto;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
    </style>
  </head>
  <body>
    <!-- header section start-->
    <div class="footer_section layout_padding">
      <div class="container">
        <h1 class="subscribr_text">KELOMPOK <b>5</b></h1>
        <p class="lorem_text">
          Search binatang kesukaan anda pada searchbar dibawah
        </p>
        <div class="box_main_2">
          <input
            id="searchInput"
            type="text"
            class="email_bt_2"
            placeholder="harimau"
            name=""
          />
        </div>
        <button class="subscribe_bt_2" onclick="search()">Search</button>
      </div>
    </div>
    <!-- banner section end-->
    <!-- marketing section start-->
    <div id="res">
      <div class="marketing_section layout_padding">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6">
              <div class="job_section">
                <h1 class="jobs_text">AFTSE</h1>
                <p class="dummy_text">
                  <b>AFTSE</b> <u>(animal food type search engine)</u>
                  adalah sebuah pencarian jenis makanan dari hewan yang berhasil
                  kami data |
                  <i
                    >is a search for the type of food from animals that we
                    managed to data</i
                  >
                  | 是对我们设法获取数据的动物食物类型的搜索
                </p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="padding_0">
                <img
                  src="https://cdn.idntimes.com/content-images/community/2022/11/fromandroid-080a9dabc72e618a210d897a9415ad31.jpg"
                />
                <p>
                  <a
                    href="https://cdn.idntimes.com/content-images/community/2022/11/fromandroid-080a9dabc72e618a210d897a9415ad31.jpg"
                    >(img by idntimes)</a
                  >
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <table>
        
            <tbody><h1 class="jobs_text" style="text-align: center;">TABLE HEWAN</h1><tr>
              <th>No</th>
              <th>Nama Hewan</th>
              <th>Jenis Makanan</th>
              <th>Penjelasan</th>
            </tr>
            <script>
              function getDataFromURL(url) {
                return fetch(url)
                  .then(response => response.json())
                  .catch(error => console.error('Terjadi kesalahan:', error));
              }
              getDataFromURL('https://raw.githubusercontent.com/Xorizn/tugas-informatika/master/lib/animals.json')
                .then((data) => {
                  const tableBody = document.querySelector('table');
                  Object.values(data).map((organ, index) => {
                    const row = document.createElement('tr');
                    const noCell = document.createElement('td');
                    noCell.textContent = index + 1;
                    row.appendChild(noCell);
                    const namaCell = document.createElement('td');
                    namaCell.textContent = organ.nama;
                    row.appendChild(namaCell);
                    const pengertianCell = document.createElement('td');
                    pengertianCell.textContent = organ.jenis_makanan;
                    row.appendChild(pengertianCell);
                    const fungsiCell = document.createElement('td');
                    fungsiCell.textContent = organ.penjelasan;
                    row.appendChild(fungsiCell);
                    tableBody.appendChild(row);
                  });
                }).catch(error => console.log('error'));
            </script>
          </tbody></table>
    </div>

    

    <!-- footer section end-->
    <!-- copyright section start-->
    <div class="copyright_section">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <p class="copyright_text"></p>
          </div>
          <div class="col-md-6">
            <p class="cookies_text"></p>
          </div>
        </div>
      </div>
    </div>
    <!-- copyright section end-->

    <!-- Javascript files-->
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/plugin.js"></script>
    <!-- sidebar -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js"></script>
    <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="js/custom.js"></script>
    <!-- javascript -->
    <script src="js/owl.carousel.js"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
    <script>
      function getDataFromURL(url) {
        return fetch(url)
          .then((response) => response.json())
          .catch((error) => console.error("Terjadi kesalahan:", error));
      }
      async function search() {
        try {
          const searchInput = document
            .getElementById("searchInput")
            .value.trim();
          console.log(searchInput);
          const resultDiv = document.getElementById("res");
          resultDiv.innerHTML = "";

          let searchhh = await getDataFromURL(
            "https://raw.githubusercontent.com/Xorizn/tugas-informatika/master/lib/animals.json"
          );
          const options = {
            includeScore: true,
            keys: ["nama", "jenis_makanan"],
            threshold: 0.3,
          };
          const fuse = new Fuse(searchhh, options);
          const results = fuse.search(searchInput);

          if (results.length > 0) {
            console.log(results[0]);
            let resul = "";
            for (let i = 0; i < results.length; i++) {
              resul += `<div class="marketing_section layout_padding">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6">
              <div class="job_section">
                <h1 class="jobs_text">${results[i].item.nama}</h1>
                <p class="dummy_text">
                  <b>${results[i].item.jenis_makanan}</b>
                  ${results[i].item.penjelasan}
                </p>
                <div class="apply_bt">
                  <a
                    href="https://www.wikipedia.org/search-redirect.php?family=Wikipedia&language=id&language=id&search=${results[i].item.nama}"
                    >Detail Hewan</a
                  >
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="padding_0">
                <img
                  src="${results[i].item.img}"
                />
                <p><a href="${results[i].item.img}">(img by pintererst)</a></p>
              </div>
            </div>
          </div>
        </div>
      </div>
				`;
            }
            resultDiv.innerHTML = resul;
          } else {
            resultDiv.innerHTML =
              '<h1 class="jobs_text center">GAK ADA BOS</h1>';
          }
        } catch (err) {
          console.log(err);
        }
      }
    </script>
    <script>
      $(document).ready(function () {
        $(".fancybox").fancybox({
          openEffect: "none",
          closeEffect: "none",
        });
      });
    </script>
  </body>
</html>
